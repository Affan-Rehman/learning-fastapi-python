# =============================================================================
# FastAPI Backend - Environment Variables Configuration
# =============================================================================
# Copy this file to .env and fill in your actual values
# DO NOT commit .env to version control (it's in .gitignore)

# =============================================================================
# Database Configuration
# =============================================================================
# PostgreSQL connection string with asyncpg driver
# Format: postgresql+asyncpg://user:password@host:port/database
# For local development with Docker Compose:
DATABASE_URL=postgresql+asyncpg://postgres:postgres@localhost:5432/fastapi_db

# Database Connection Pool Settings
DB_POOL_SIZE=20
DB_MAX_OVERFLOW=10
DB_ECHO=false

# =============================================================================
# JWT Authentication Configuration
# =============================================================================
# Secret key for JWT token signing (generate a strong random string)
# Use: openssl rand -hex 32
SECRET_KEY=your-secret-key-here-change-this-in-production-use-openssl-rand-hex-32

# JWT algorithm (HS256 is recommended)
ALGORITHM=HS256

# Access token expiration time in minutes
ACCESS_TOKEN_EXPIRE_MINUTES=30

# =============================================================================
# Application Configuration
# =============================================================================
# Application name
PROJECT_NAME=FastAPI Backend with RBAC

# Application version
VERSION=1.0.0

# API version prefix
API_V1_PREFIX=/api/v1

# Server configuration
HOST=0.0.0.0
PORT=8000

# Environment: development, staging, production
ENVIRONMENT=development

# =============================================================================
# CORS Configuration
# =============================================================================
# Comma-separated list of allowed origins
# For development: http://localhost:3000,http://localhost:8080
# For production: https://yourdomain.com
CORS_ORIGINS=http://localhost:3000,http://localhost:8080,http://127.0.0.1:3000

# =============================================================================
# Rate Limiting Configuration
# =============================================================================
# Enable/disable rate limiting
RATE_LIMIT_ENABLED=true

# Requests per minute for authenticated users
RATE_LIMIT_AUTHENTICATED=100

# Requests per minute for unauthenticated users
RATE_LIMIT_UNAUTHENTICATED=20

# Requests per minute for authentication endpoints (login/register)
RATE_LIMIT_AUTH_ENDPOINTS=5

# =============================================================================
# Logging Configuration
# =============================================================================
# Log level: DEBUG, INFO, WARNING, ERROR, CRITICAL
LOG_LEVEL=INFO

# Log format: json (for production) or text (for development)
LOG_FORMAT=text

# =============================================================================
# Docker Compose Database Configuration (for local development)
# =============================================================================
# PostgreSQL credentials for Docker Compose
POSTGRES_USER=postgres
POSTGRES_PASSWORD=postgres
POSTGRES_DB=fastapi_db

# =============================================================================
# Optional: Default Admin User (for seed migration)
# =============================================================================
# Create default admin user on first migration
# Set to true to create, false to skip
CREATE_DEFAULT_ADMIN=false

# Default admin credentials (only used if CREATE_DEFAULT_ADMIN=true)
DEFAULT_ADMIN_EMAIL=admin@example.com
DEFAULT_ADMIN_USERNAME=admin
DEFAULT_ADMIN_PASSWORD=ChangeThisPassword123!
